<!DOCTYPE html>
<html>
<head>
    <title>URL Status Checker</title>
    <!-- Include Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container">
        <h1 class="mt-4">Dashboard URL Checker</h1>
        
        <!-- Add Refresh Button -->
        <button class="btn btn-primary mt-3 mb-3" onclick="refreshTable()">Refresh</button>
        
        <table class="table">
            <h4 class="mt-4">Website UI Health Checker</h4>
            <thead>
                <tr>
                    <th>Project Name</th>
                    <th>URL</th>
                    <th>Status</th>
                    <th>Last Checked</th>
                    <th>Message</th>
                </tr>
            </thead>
            <tbody>
                {% for project in projects %}
                    <tr>
                        <td>{{ project['project_name'] }}</td>
                        <td>{{ project['url'] | url_without_query }}</td>
                        <td>{{ project['status'] }}</td>
                        <td>{{ project['last_checked'] }}</td>
                        <td>{{ project['status_message'] }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- Include Bootstrap JS (optional) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Function to refresh the table (reloads the page)
        function refreshTable() {
            location.reload();
        }
    </script>
</body>
</html>
